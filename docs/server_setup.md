# 自架伺服器
這篇文章會教你如何在自己的電腦上架設伺服器

## 前置作業
### 下載伺服器軟體
根據自己的需求下載伺服器軟體，例如：Forge、Fabric、Spigot、Paper、Purpur 等

### 建立啟動批次檔
如果您使用的伺服器軟體不是 Forge 或 Fabric，預設是不會產生啟動批次檔的，而每次都要輸入一長串指令是非常累的，因此，讓我們建立啟動批次檔吧！
1. 前往 [指令碼建立工具](https://flags.sh)
1. 輸入伺服器啟動檔案的檔案名稱
1. 選擇你使用的作業系統
1. 按左下方的按鈕來下載腳本，以後僅需開啟這個指令碼即可啟動伺服器！
> 提示：記憶體建議配置 4 GiB～8 GiB，過多的記憶體反而會拖累伺服器效能！
> 提示：建議不要開啟圖形化使用者介面（GUI），你可以使用命令提示字元管理你的伺服器！

### 公開伺服器
以下提供幾種方式讓你的朋友加入伺服器
* **ngrok 免費版** 現在會限制流量，不適合架設伺服器，因此不建議使用它。
#### [Radmin VPN](https://www.radmin-vpn.com/tw/)（推薦）
1. 前往 [官網](https://www.radmin-vpn.com/tw/) 下載軟體並安裝
    * 注意，因為它會造成許多問題，請勿使用 Hamachi 連線！
1. 建立一個網路，並記住網路名稱與密碼
1. 請你的朋友在他的電腦上也安裝 **Radmin VPN**
1. 把網路名稱與密碼分享給朋友，讓他加入
1. 請朋友在應用程式中複製主機的 **虛擬 IP 位址**，輸入到遊戲中即可開始遊戲！

#### 連接埠轉送
需求：你需要擁有自家[路由器](https://zh.wikipedia.org/wiki/路由器)的管理權限，並且家中有實體 IP 位址
1. 開啟 **命令提示字元** 或 **PowerShell**，輸入 `ipconfig` 然後按下 Enter 鍵
1. 複製目前使用網路的 **閘道**，輸入到瀏覽器的網址列中即可存取路由器管理介面
1. 複製目前使用網路的 **IPv4 位址**
1. 登入後找到「連接埠轉發」（Port Forwarding）
    * 輸入剛才複製的 **IPv4 位址**
    * 連接埠（Port）設為 **25565**
    * 選擇 TCP 協定
1. 至 [canyouseeme](https://canyouseeme.org/) 確認自己的 **外網 IP 位址**
1. 將剛才複製的 **外網 IP 位址** 分享給朋友，輸入到遊戲中即可開始遊戲！

#### 使用模組
1. 雙方皆須安裝
    * [Essential](https://essential.gg/)
    * [P2P](https://modrinth.com/mod/p2p)
1. 僅需開服者在用戶端安裝
    * [e4mc](https://modrinth.com/mod/e4mc)
    * [World Host](https://modtinth.com/world-host)
